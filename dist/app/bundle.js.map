{"version":3,"sources":["webpack:///webpack/bootstrap 08a832d5e3c2e065eed8","webpack:///./src/app/index.js","webpack:///./src/app/firebase_auth.js","webpack:///./src/app/form_completion.js","webpack:///./src/app/d3_graph.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;;ACtCA;;AAEA;AACA;AACA;;;;;;;;;;ACJA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAG;AACH;AACA,IAAG;AACH;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;;;;;;;;;AC7HA;;;;;;;;;;ACAA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,IAAG;;AAEH;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,8BAA6B,uBAAuB;AACpD,8BAA6B,wBAAwB;AACrD;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,YAAW;AACX,iCAAgC;AAChC,eAAc;AACd;AACA;AACA;AACA;AACA;AACA,gBAAe;AACf,6BAA4B,WAAW;AACvC;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;;AAGL;;AAEA,EAAC","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/app/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 08a832d5e3c2e065eed8","'use strict';\n\nrequire('./firebase_auth.js')\nrequire('./form_completion.js');\nrequire('./d3_graph.js');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/index.js\n// module id = 0\n// module chunks = 0","'use strict';\n\nvar config = {\n   apiKey: \"AIzaSyAxBPqozNv7Ra_Kn8m9E0l2BWUjMhm_pfI\",\n   authDomain: \"hidden-surplus-js.firebaseapp.com\",\n   databaseURL: \"https://hidden-surplus-js.firebaseio.com\",\n   storageBucket: \"hidden-surplus-js.appspot.com\",\n   messagingSenderId: \"393536735786\"\n };\n\n firebase.initializeApp(config);\n\n const fbRef = firebase.database().ref();\n const fbDoGood = fbRef.child(\"doGood\");\n const fbUser = fbRef.child('users');\n\n///////////////// Authentication /////////////////////\n\n$(document).ready(function (){\n  $(\"#form\").hide();\n  $(\"#signOutNav\").hide();\n  $(\"#signOutMsg\").hide();\n  $(\"#formSubmitMsg\").hide();\n})\n\nlet user;\nlet provider = new firebase.auth.GoogleAuthProvider();\n\nfunction signIn() {\n  firebase.auth().signInWithPopup(provider).then(function(result) {\n    // This gives you a Google Access Token. You can use it to access the Google API.\n    var token = result.credential.accessToken;\n    // The signed-in user info.\n    user = result.user;\n    showForm();\n    writeUserData(user.uid, user.displayName, user.email);\n  }).catch(function(error) {\n    // Handle Errors here.\n    var errorCode = error.code;\n    var errorMessage = error.message;\n    // The email of the user's account used.\n    var email = error.email;\n    // The firebase.auth.AuthCredential type that was used.\n    var credential = error.credential;\n    // ...\n  });\n};\n\nfunction writeUserData(userId, name, email) {\n  console.log(userId);\n  firebase.database().ref('users/' + userId).set({\n    name: name,\n    email: email,\n  });\n}\n\nfunction showForm() {\n  $(\"#logIn\").hide();\n  $(\"#signInNav\").hide();\n  $(\"#form\").show();\n  $(\"#signOutNav\").show();\n  $(\"#welcomeUser\").html(\"Hello, \" + user.displayName + \". Fill out the form below to do some good!\");\n};\n\nfunction signOut () {\n  firebase.auth().signOut().then(function() {\n    $(\"#form\").hide();\n    $(\"#signOutNav\").hide();\n    $(\"#formSubmitMsg\").hide();\n    $(\"#signInNav\").show();\n    $(\"#logIn\").show();\n    $(\"#signOutMsg\").show();\n    $(\"#signOutMsg\").html(\"Your have successfully logged out.\");\n\n  }, function(error) {\n    $(\"#signOutMsg\").html(\"We were not able to log you out. Please try again.\");\n  });\n};\n\n$('.signIn').click(signIn);\n$('.signOut').click(signOut);\n\n/////////////////// Form //////////////////////////\nfunction goodDone () {\n  $('#formSubmitMsg').show();\n  $('#form').hide();\n}\n\nfunction showAnotherForm () {\n  document.getElementById(\"doGoodForm\").reset();\n  $('#form').show();\n}\n\nfunction addDoGood (obj) {\n  let doGood = obj;\n  const doGoodId = fbDoGood.push().key;\n  const newDonation = \"new Donation \" + fbDoGood.push().key;\n\n  let updates = {};\n  let userUpdated = {};\n  updates['doGood/' + doGoodId] = doGood;\n  userUpdated['users/' + user.uid + '/' + newDonation] = doGood;\n  fbRef.update(updates);\n  fbRef.update(userUpdated);\n}\n\nfunction getValueDoGood () {\n  let d = new Date();\n  let doGood = {\n    name: document.getElementById('name').value,\n    amount: Number(document.getElementById('amount').value),\n    donateTo: document.getElementById('donateTo').value,\n    gaveUp: document.getElementById('gaveUp').value,\n    selectWhat: document.getElementById(\"selectWhat\").value,\n    selectWhere: document.getElementById(\"selectWhere\").value,\n    postTime: d.getTime(),\n  }\n  addDoGood(doGood);\n  goodDone();\n  return false;\n}\n\n\n// document.getElementById('submitForm').onclick = getValueDoGood;\n$('#submitForm').click(getValueDoGood);\n$('#showAnotherForm').click(showAnotherForm);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/firebase_auth.js\n// module id = 1\n// module chunks = 0","'use strict';\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/form_completion.js\n// module id = 2\n// module chunks = 0","'use strict';\n\nconst fbRef = firebase.database().ref();\nconst fbDoGood = fbRef.child(\"doGood\");\n\nfbDoGood.on('value', (snapshot) => {\n\n  let data = snapshot.val();\n  let arr = Object.values(data);\n\n  let total = 0;\n\n  arr.map((c,i,a) => {\n    total += c.amount;\n    return total\n  });\n\n  document.getElementById('totalAmounts').innerHTML = \"$\" + total;\n\n  d3.select(window).on(\"resize\",callFunction);\n  callFunction();\n\nfunction callFunction(){\n\n  var svg = d3.select(\"svg\"),\n  width = +svg.attr(\"width\"),\n  height = +svg.attr(\"height\"),\n  radius = 20;\n\nvar tooltip = d3.select(\"body\").append(\"div\")\n  .style(\"opacity\", \"0\").style(\"position\", \"absolute\");\n\nlet time = new Date();\nlet timeNow = time.getTime();\nlet week = 604800000;\nlet weekOld = timeNow - week;\n\nfunction randomWidth() {\n  let num = Math.round(Math.random() * (width - radius * 2) + radius)\n  return num;\n}\n\nfunction randomHeight() {\n  let num = Math.round(Math.random() * (height - radius * 2) + radius)\n  return num;\n}\n\nvar recentColor = d3.scaleOrdinal()\n    .range(['pink', 'purple', 'silver']);\n\nvar color = d3.scaleOrdinal()\n    .range(d3.schemeCategory20);\n    // .range(['black', 'red', 'blue', 'yellow']);\n\nsvg.selectAll(\"circle\")\n  .data(arr)\n  .enter().append(\"circle\")\n    .attr(\"cx\", function(d) { return randomWidth() })\n    .attr(\"cy\", function(d) { return randomHeight() })\n    .attr(\"r\", radius)\n    .attr(\"class\", function(d) {\n      if (weekOld <= d.postTime) {\n        return \"newer\"\n      } else  {\n        return \"older\"\n      }\n    })\n    .style(\"fill\", function(d, i) {\n        if ($(this).hasClass(\"newer\")) {\n           return recentColor(i);}\n         else {\n           return color(i);\n         }})\n    .on(\"mouseover\", function(){this.style.fill =\n        \"red\"})\n        .on(\"mouseout\", function(d, i) {\n            if ($(this).hasClass(\"newer\")) {\n               this.style.fill = recentColor(i);}\n             else {\n               this.style.fill = color(i);\n             }})\n    .attr(\"d\", function () {return arr})\n    .on(\"mousemove\", function(d,i,a){\n        tooltip.style(\"opacity\", \"5\")\n          .style(\"left\",d3.event.pageX+\"px\")\n          .style(\"top\",d3.event.pageY+\"px\")\n        tooltip.html('<span class=\"dispAmount\"> Amount: $' + arr[i].amount + '</span><br/>'\n          + '<span class=\"dispDonated\">Donated: ' + arr[i].gaveUp + '</span><br/>' + '<span class=\"dispTo\">Donated to: ' + arr[i].donateTo + '</span>');\n    })\n\n\n  }\n\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/d3_graph.js\n// module id = 3\n// module chunks = 0"],"sourceRoot":""}